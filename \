#include <stdio.h>
#include <ctype.h>

#define IN 1 //inside a word
#define OUT 0 //outside a word
#define GRAPHSIZE 25 //how many words are to be displayed
#define WORDSIZE 25 //how many letters per word are allowed

// count lines, words, and chars inputted

main ()
{
	int c, nw, state, currentWord, i, j, k;
	int wordLength [ GRAPHSIZE ];
	char words [ GRAPHSIZE ] [ WORDSIZE ];
	char graph [WORDSIZE] [(GRAPHSIZE * 5) + 1];


	state = OUT;
	j = k= nw = currentWord = 0;
	for ( i = 0; i < GRAPHSIZE; i++ )
	{
		wordLength [ i ] = 0;
		for ( j = 0; j < WORDSIZE; ++j)
			words [ i ] [ j ] = '\0';
	}
	for ( i = 0; i < WORDSIZE; ++i )
	{
		for ( j = 0; j < GRAPHSIZE*5; ++j)
			graph [i][j] = '\0';
	}

	i = j = 0;

	// Continue to get characters until "Ctrl-D" is pressed. (Or some other end to input)
	while ((c = getchar ()) != EOF)
	{
		// Next line is my definition of a word. Letters "a-z" and "A-Z". 
		// "'" and "-" in hyuphenated or contracted words are also included. 
		// No other punctuation will be unless there is a change I see needed
		if ( isalpha ( c ) || ((c == '\'') || (c == '-')))
		{
			words [ i ] [ currentWord ] = c;
			++currentWord;
			if (state == OUT)
				++nw;
			state = IN;
		}
		else
		{
			if ((i < 25))
			{
				wordLength [ i ] = currentWord;
			}
			if (state == IN)
				++i;
			
			state = OUT;
			currentWord = 0;
		}

	}
	printf ("\nWord Length Graph\n");
	printf ("-----------------\n");
	printf ("Total Words: %d\n", nw);
	printf ("Max Words: %d\n", GRAPHSIZE);

	// Appears to be an error where no word displays as longer than the previous one. Should look into why more
	// NOTE: j may not be updating to the new amount every time? possibly need a sub for loop or something like that????
	// the loop is running the correct amount of times however it is not filling correctly
	for (i = 0; i < (GRAPHSIZE * 5); i = i + 5)
	{
		for (j = 0; j < wordLength [i]; j++)
		{
			graph [j][i] = '*';
			graph [j][i+1] = '*';
			graph [j][i+2] = '*';
			graph [j][i+3] = '*';
			graph [j][i+4] = '|';

		}
	}
	for (i = 0; i < WORDSIZE; ++i)
		printf ("%2d|%s\n", i + 1, graph [i]);
	printf ("\n");
}

